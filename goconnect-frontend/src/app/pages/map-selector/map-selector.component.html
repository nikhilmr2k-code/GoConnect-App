<div class="map-page">
  <app-navbar></app-navbar>
  
  <div class="search-container" *ngIf="!isViewingSpot">
    <div class="container">
      <div class="search-wrapper">
        <input 
          type="text" 
          [(ngModel)]="searchQuery" 
          placeholder="Search for a location..." 
          class="form-input search-input"
          (keyup.enter)="searchLocation()">
        <button class="btn btn-primary search-btn" (click)="searchLocation()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          Search
        </button>
      </div>
    </div>
  </div>
  
  <div class="map-content">
    <div #map class="map-container"></div>
  </div>
  
  <div class="map-footer" *ngIf="!isViewingSpot">
    <div class="container">
      <div class="footer-content">
        <div class="location-info card">
          <div class="location-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
          </div>
          <span class="location-name">{{ selectedLocation.name }}</span>
        </div>
        <div class="action-buttons">
          <button class="btn btn-ghost" (click)="cancel()">Cancel</button>
          <button class="btn btn-primary" (click)="confirmLocation()">Select Location</button>
        </div>
      </div>
    </div>
  </div>
  
  <div class="route-footer" *ngIf="isViewingSpot && currentLocation">
    <div class="container">
      <div class="route-content card">
        <div class="distance-card">
          <div class="distance-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 11a3 3 0 1 0 6 0a3 3 0 0 0-6 0"></path>
              <path d="M17.657 16.657l-4.243 4.243a2 2 0 0 1-2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"></path>
            </svg>
          </div>
          <div class="distance-info">
            <span class="distance-label">Distance</span>
            <span class="distance-value">{{ distance.toFixed(2) }} km</span>
          </div>
        </div>
        <div class="locations-info">
          <div class="location-item">
            <div class="location-dot from"></div>
            <div class="location-details">
              <span class="location-label">Boarding Point</span>
              <span class="location-name">{{ currentLocationName }}</span>
            </div>
          </div>
          <div class="route-line"></div>
          <div class="location-item">
            <div class="location-dot to"></div>
            <div class="location-details">
              <span class="location-label">Hidden Location</span>
              <span class="location-name">{{ selectedLocation.name }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>